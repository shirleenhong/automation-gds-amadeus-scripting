*** Settings ***
Resource          ../locators/locators.robot
Resource          ../utilities/utility.txt

*** Keywords ***
Enter Dutycode
    [Arguments]    ${dutycode}
    Input Text    css=#dutyCode input    ${dutycode}

Enter GDS Command
    [Arguments]    @{gds_commands}
    #Wait For Page to Load before sending commands
    Wait Until Element Is Visible    //span[contains(@class, 'title cryptic')]    60
    : FOR    ${gds_command}    IN    @{gds_commands}
    \    Input Text    css=.cmdPromptDiv > textArea    ${gds_command}
    \    Press Key    css=.cmdPromptDiv > textArea    \\13

Enter Office ID
    [Arguments]    ${office_id}
    Input Text    css=#officeId input    ${office_id}

Enter Password
    [Arguments]    ${password}
    Input Text    css=#password input    ${password}

Enter Username
    [Arguments]    ${username}
    Input Text    css=#username > span:first-child input    ${username}

Handle Accept Cookie Panel
    ${is_force_sigin}    Run Keyword And Return Status    Wait Until Element Is Visible    css=div.accept    30
    Run Keyword If    ${is_force_sigin}    Click Element    css=div.accept

Handle Force Login Window
    ${is_force_sigin}    Run Keyword And Return Status    Wait Until Element Is Visible    xpath=//span[contains(text(),'Force Sign In')]    15
    Run Keyword If    ${is_force_sigin}    Click Element    xpath=//span[contains(text(),'Force Sign In')]

Login To Amadeus Sell Connect
    Open Browser    ${selco_url}
    Maximize Browser Window
    Wait Until Element Is Visible    ${login.username_css}    60
    Enter Username    U002MCC
    Enter Dutycode    SU
    Enter Office ID    LONWL2220
    Enter Password    Amasel02@
    Wait Until Element Is Not Visible    css=#logi_confirmButton .xButtonDisabled    30
    Click Element    css=#logi_confirmButton .xButton
    Handle Force Login Window
    Wait Until Element Is Visible    css=.uicTaskbarText    30
    Handle Accept Cookie Panel
    Add New Command Page
